<!DOCTYPE html>  
<html>
  <meta charset="UTF-8">
  <title>Robet</title>
  </head>
  <body>  
    <script src="/socket.io/socket.io.js"></script>   
    <script>
    // for (var i = 1;i<= 1;i++)
    // {
      
    // 当服务端发送一条消息到客户端，message 事件即被触发。我们把消息在控制台打印出来   
    //接收连接服务器信息
    var freeCount5 = 0;
    var freeCount8 = 0;
    var freeCount15 = 0;
    var Total = 0;
    var lotteryTotal = 0;
    var socket;
    var hitfishCount = 0;
    var hitfishTotal = 0;
    //socket = io.connect('http://192.168.1.170:13000');
    //socket = io.connect('http://bosengame.com:3000');
    //socket = io.connect('http://120.76.200.182:3000');
    socket = io.connect('http://localhost:13000');

    //socket = io.connect('http://52.193.83.112:13000');
    //socket = io.connect('http://120.76.240.16:3000');
    //socket = io.connect('http://120.76.194.95:13000');
       
    // 
    // 
   function login(){
        //发送登录帐号密码
        //socket.emit('login',{userName:'robot1',sign:'cocogame2016`@33922200@@@@',gameId:1})
        socket.emit('login',{userName:'abc111',sign:'44129d28f28e55b1a8aaf22c3c324a19',gameId:1});
        //socket.emit('login',{userName:'test',sign:'537b38da793b945fefb4d9a806bcd13b',gameId:1})
        //socket.emit('login',{phoneNo:'15999952250',password:'abc123',gameId:1})
        //socket.emit('login',{userName:'abc123',sign:'c74a7992db244d4c53d3da83f52af57a',gameId:3})
        //socket.emit('login',{userName:'robot0',sign:'cocogame2016`@33922200@@@@',gameId:1})
        //socket.emit('login',{userName:'oo9Dqs1N4q_y4KC1obS3lvMosCvY',sign:'ce47ba43d56bef8b39c4fcc55678070a',gameId:1})
     }


    socket.on('heartbeatResult',function(msg){
        console.log("心跳");
    })


    function heartbeat(){
       socket.emit('heartbeat');
     }

    socket.on('connected',function(msg){
        console.log(msg);
    })

    var sign = "";
    var userid = "";
    var bulletid = 1;

    //接收登录结果
    socket.on('loginResult',function(result){
        console.log(result)
        sign = result.Obj.sign;
        userid = result.Obj.id;
//      document.getElementById("score").value = result.Obj.score
//      document.getElementById("freeCount").value = result.Obj.freeCount
        logingame();
    })

    socket.on('exchangeResult',function(msg){
        console.log(msg);
    })

    socket.on('dongshanzaiqi',function(msg){
        console.log(msg);
    })

    socket.on('dayListResult',function(msg){
        console.log(msg);
    })


    socket.on('sendCoinResult',function(msg){
        console.log(msg);
    })

    socket.on('sendbindPhoneNoResult',function(msg){
        console.log(msg);
    })

    socket.on('bindPhoneResult',function(msg){
        console.log(msg);
    })

    socket.on('addgold',function(msg){
        console.log(msg);
    })

    socket.on('prizeListResult',function(msg){
    console.log(msg);
    })

    socket.on('getPrizeResult',function(msg){
    console.log(msg);
    })

    socket.on('getDayPrizeResult',function(msg){
    console.log(msg);
    })

    socket.on('addPrize',function(msg){
    console.log(msg);
    })

    socket.on('getServerRankResult',function(msg){
    console.log(msg);
    })
    
    socket.on('applyMatchResult',function(msg){
    console.log(msg);
    })


    socket.on('fishUseCoin',function(msg){
    console.log(msg);
    })

    socket.on('sendMsg',function(msg){
    console.log(msg);
    })

    socket.on('noticeMsg',function(msg){
        console.log(msg);
    })
    
    socket.on('sendMsgResult',function(msg){
    console.log(msg);
    })

    socket.on('firstExchagerResult',function(msg){
    console.log(msg);
    })

    socket.on('lv',function(msg){
        console.log(msg);
    })

    socket.on('lineOutMsg',function(msg){
        console.log(msg);
    })

    socket.on('maintain',function(msg){
        console.log(msg);
    })

    socket.on('checkNickNameResult',function(msg){
        console.log(msg);
    })

    socket.on('updateNickNameResult',function(msg){
        console.log(msg);
    })
    
    socket.on('bindZhifubaoResult',function(msg){
        console.log(msg);
    })
    
    
    
    var nowfishId;
    var socket2;
    var initSocket = function(){
      socket2.on('connected',function(msg){
        console.log(msg);
      })

      socket2.on('loginGameResult',function(msg){
        console.log(msg);

        socket2.emit('LoginRoom',{roomid:1})
        //结束与登录服务器通信
        //socket.disconnect();
      })

      socket2.on('FishOut',function(result){
        nowfishId = result.fishId;
        //console.log(result)
        //console.log(nowfishId)
      })

    socket2.on('LoginRoomResult',function(msg){
    console.log(msg);
    })

    socket2.on('playEnter',function(msg){
    console.log(msg);
    })

    socket2.on('PlayerOut',function(msg){
    console.log(msg);
    })

    socket2.on('addgoldResult',function(msg){
    console.log(msg);
    })

    socket2.on('downEnd',function(msg){
        console.log(msg);
        console.log("下注结束");
    })

    socket2.on('downCoinBegin',function(){
        console.log("下注开始");
    })


    socket2.on('match_countdown',function(msg){
    console.log("match_countdown");
    })

    socket2.on('matchRank',function(msg){
    console.log(msg);
    })

    socket2.on('upResult',function(msg){
        console.log(msg);
    })

    socket2.on('downCoinResult',function(msg){
        console.log(msg);
    })

    socket2.on('otherDownCoin',function(msg){
        console.log(msg);
    })

    socket2.on('openResult',function(msg){
        console.log(msg);
    })

    socket2.on('winResult',function(msg){
        console.log(msg);
    })

    socket2.on('otherUp',function(msg){
        console.log(msg);
    })

    socket2.on('downResult',function(msg){
        console.log(msg);
    })

    socket2.on('otherDown',function(msg){
        console.log(msg);
    })

    socket2.on('getDownTimeResult',function(msg){
        console.log(msg);
    })

    socket2.on('resetBankerCoin',function(msg){
        console.log(msg);
    })

    //红包监听
    socket2.on('noticeRedBag',function(msg){
        console.log(msg);
    })

    socket2.on('sendRedBagResult',function(msg){
        console.log(msg);
    })

    socket2.on('lootRedBagResult',function(msg){
        console.log(msg);
    })

    socket2.on('redbagEnd',function(msg){
        console.log(msg);
    })

    socket2.on('checkRedBagResult',function(msg){
        console.log(msg);
    })

    socket2.on('getHistoryResult',function(msg){
        console.log(msg);
    })

    socket2.on('getx',function(msg){
        console.log(msg);
        console.log(msg.data.jieguo);
    })

    socket2.on('sendCard',function(msg){
        console.log(msg);
    })

    socket2.on('fishSceneChange',function(msg){
        console.log("换场景");
    })

    socket2.on('getFishListResult',function(msg){
        console.log(msg);
    })

    var nextsub = false;
    var valueMax = [];
    var hit_times = 0;
    socket2.on('lotteryResult',function(msg){
        if (nextsub){
            
        }else{
            var lotterybet = document.getElementById("lotterybet").value;
            var betCount = [1,5,10,20,50,100,200,500,1000];
            Total -= betCount[lotterybet];
        }
        Total += msg.ResultData.winscore;
        if (valueMax[msg.ResultData.winscore * 10]){
            ++valueMax[msg.ResultData.winscore * 10];
        }else{
            valueMax[msg.ResultData.winscore * 10] = 1;
        }

        if (msg.ResultData.winscore > 0){
            hit_times++;
        }
        

        Total = parseFloat(Total);
        Total.toFixed(2);
        console.log(valueMax)
        console.log(hit_times);
        nextsub = msg.ResultData.freeCount;

        document.getElementById("score").value = msg.ResultData.userscore;
        document.getElementById("Total").value = Total;
        document.getElementById("freeCount").value = msg.ResultData.freeCount;
    })

    socket2.on('vsResult',function(msg){
        console.log(msg);
    })

    socket2.on('sendCoin',function(){
        console.log("sendCoin");
    })

    //准备开始
    socket2.on('readyPlay',function(){
        console.log("准备开始");
    })

    //选择倍数
    socket2.on('selectBet',function(msg){
        console.log(msg);
    })

    //凑牛时间与获得最后一张扑克
    socket2.on('couCow',function(msg){
        console.log(msg);
    })

    //加倍数返回结果
    socket2.on('callResult',function(msg){
        console.log(msg);
    })

    //别人与自己叫倍数信息
    socket2.on('callValueId',function(msg){
        console.log(msg);
    })

    //闲家设置倍数结果
    socket2.on('reCallResult',function(msg){
        console.log(msg);
    })

    //别人与自己设置倍数信息
    socket2.on('reCallValueId',function(msg){
        console.log(msg);
    })
    
    //展示自己牌型结果
    socket2.on('showResult',function(msg){
        console.log(msg);
    })

    //别人与自己输赢金额
    socket2.on('open',function(msg){
        console.log(msg);
    })

    socket2.on('notEnouhtScore',function(msg){
        console.log("notEnouhtScore");
    })

    socket2.on('getTableListResult',function(msg){
        console.log(msg);
    })
    }

    function logingame(){
        if (socket2 && userid){
            socket2.emit('LoginGame',JSON.stringify({userid:userid,gametype:1,sign:sign}))
        }
     }

    var ip = [];
    var prot = [];


    socket.on('ServerListResult',function(msg){
        console.log(msg);
        console.log(msg.GameInfo.length);
        for(var i = 0 ;i < msg.GameInfo.length ; i++){
            ip[i] = msg.GameInfo[i].serverInfo.normal[0].ip;
            prot[i] = msg.GameInfo[i].serverInfo.normal[0].prot;
        }

    })



    function test1(){
        socket2 = io.connect('http://' + ip[1] + ':' + prot[1])
        initSocket();
        logingame();
        
    }

    function test(){
        console.log()
        socket2 = io.connect('http://' + ip[2] + ':' + prot[2])
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
        
    }
		//捕鱼游戏入口
    function test2(){
        //连接捕鱼游戏服务器
        socket2 = io.connect('http://' + ip[0] + ':' + prot[0])
        
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
        
    }

    function test3(){
        socket2 = io.connect('http://' + ip3 + ':' + port3)
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
    }

    function goredbaggame(){
        socket2 = io.connect('http://' + ip4 + ':' + port4)
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
    }

    function go8da2(){
        socket2 = io.connect('http://' + ip[4] + ':' + prot[4])
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
    }

    function gocow(){
        socket2 = io.connect('http://' + ip[5] + ':' + prot[5])
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
    }

    function goqiangcow(){
        socket2 = io.connect('http://' + ip[7] + ':' + prot[7])
        //socket.disconnect();
        //console.log(msg.GameInfo.serverInfo[idx].prot)
        initSocket();
        logingame();
    }

    function ttt(){
        //logingame();
    }



    function shoot(){
        bulletid++;
        socket2.emit('fishShoot',{userid:1,bet:1,angle:3.3,bulletId:bulletid})
        socket2.emit('fishHit',{fishId:nowfishId,bulletId:bulletid})
     }

     function loginroom(){
        socket2.emit('LoginRoom',JSON.stringify({roomid:1}))
     }

    function hitfish(){
      var lotteryCount = document.getElementById("lotteryCount").value;
      var lotterybet = document.getElementById("lotterybet").value;
      for(var i = 0; i < lotteryCount ; ++i){
        socket2.emit('fishHit',{fishType:0,bet:lotterybet,fishId:1,bulletId:bulletid});
        hitfishTotal -= lotterybet;
      }
    }

    function logoutroom(){
        console.log("11");
        socket2.disconnect();
        setTimeout(go8da2, 300);
        
     }

     
     function lottery() {
        var lotteryCount = document.getElementById("lotteryCount").value;
        var lotterybet = document.getElementById("lotterybet").value;
        for(var i = 0; i < lotteryCount ; ++i){
          socket2.emit('lottery',{bet:lotterybet,lines:1});
        }
        
     }

     function exchange(){
        socket.emit('exchange',{proCount:20});
     }

    function sendCoin(){
        socket.emit('sendCoin',{sendUserId:577,sendCoin:2000});
    }

    function sendbindPhoneNo(){
        socket.emit('sendbindPhoneNo',{phoneNo:15999952250});
    }

    function bindPhone(){
        var checkNo = document.getElementById("checkNo").value;
        socket.emit('bindPhone',{phoneNo:15999952250,checkNo:checkNo,password:"abc123"});
    }

    function getPrize(){
        socket.emit('getPrize',{id:2});
    }

    function getDayPrize(){
        socket.emit('getDayPrize',{id:4885});
    }

    function getServerRank(){
        socket.emit('getServerRank',{serverId:4});
    }

    function updateNickName(){
        socket.emit('updateNickName',{newNickName:"kkss"});
    }

    function bindZhifubao(){
        socket.emit('bindZhifubao',{zhifubao:"kkss@1123",name:"张十开"});
    }
    
    function apply(){
        socket.emit('applyMatch',{roomid:11});
    }

    function sendMsg(){
        var checkNo = document.getElementById("checkNo").value;
        socket.emit('sendMsg',{msg:checkNo});
    }

    socket.on('sendMsgToUserResult',function(msg){
        console.log(msg);
    })

    function updateCharLog(){
        socket.emit('updateCharLog',{idList:[1,2]});
    }

    socket.on('updateCharLogResult',function(msg){
        console.log(msg);
    })

    function sendMsgToUser(){
        var checkNo = document.getElementById("checkNo").value;
        socket.emit('sendMsgToUser',{userId:1,msg:checkNo});
    }

    socket.on('getMsgToUserResult',function(msg){
        console.log(msg);
    })

    function getMsgToUser(){
        socket.emit('getMsgToUser');
    }

    function addBank(){
        socket.emit('BankInfo',{"act":1,"account":"620580","name":"高要有","bankType":1});
    }

    function editBank(){
        socket.emit('BankInfo',{"act":2,"cardId":1,"account":"6205802233333332","name":"高要有","bankType":1});
    }

    function delBank(){
        socket.emit('BankInfo',{"act":3,"cardId":1});
    }

    socket.on('BankInfoResult',function(msg){
        console.log(msg);
    })

    function getBank(){
        socket.emit('getBank');
    }

    socket.on('getBankResult',function(msg){
        console.log(msg);
    })

    socket.on('scoreOutResult',function(msg){
        console.log(msg);
    })


    function scoreOut(){
        socket.emit('scoreOut',{score:10000,type:1,cardId:4});
    }


    function checkNickName(){
        socket.emit('checkNickName',{userId:1});
    }

    socket.on('changeOfficialResult',function(msg){
        console.log(msg);
    })

    function changeOfficial(){
        socket.emit('changeOfficial',{newAccount:"abcde",password:"123456"});
    }

    socket.on('updatePasswordResult',function(msg){
        console.log(msg);
    })

    function updatePassword(){
        socket.emit('updatePassword',{oldPassword:"123456",password:"111111"});
    }

    function up(){
        socket2.emit('up',{Coin:100000});
    }

    function down(){
        socket2.emit('down',{});
    }

    function downCoin(){
        var chips = document.getElementById("chips").value;
        var selectId = parseInt(document.getElementById("selectId").value);
        socket2.emit('downCoin',{chips:chips,selectId:selectId});
    }

    function getDownTime(){
        socket2.emit('getDownTime',{});
    }

    function sendbag(){
        socket2.emit('sendRedBag',{boomNum:1,coin:100,count:10});
    }

    function lootbag(){
        var lootbagid = parseInt(document.getElementById("lootbagid").value);
        socket2.emit('lootRedBag',{redBagId:lootbagid});
    }

    function checkbag(){
        var lootbagid = parseInt(document.getElementById("lootbagid").value);
        socket2.emit('checkRedBag',{redBagId:lootbagid});
    }

    function getHistory(){
        socket2.emit('getHistory');
    }

    function getx(){
        socket2.emit('getx',"coco%2016@s3ls@l3l#22l2l;a;z33123");
    }

    function setx(){
        socket2.emit('setx',{code:"coco%2016@s3ls@l3l#22l2l;a;z33123",count:3000});
    }

    function vs(){
        var selectId = parseInt(document.getElementById("selectId").value);
        socket2.emit('vs',{selectId:selectId});
    }

    function ready(){
        socket2.emit('ready');
    }

    function call(valueId){
        //叫倍数
        socket2.emit('call',JSON.stringify({callValueId:valueId}));
    }

    function recall(valueId){
        //闲家设置倍数
        socket2.emit('reCall',JSON.stringify({reCallValueId:valueId}));
    }

    function show(){
        //凑牛展示结果
        socket2.emit('show');
    }

    function getTableList(){
        socket2.emit('getTableList');
    }

    function getfishList(){
        socket2.emit('getFishList');
    }
		



    </script>

    剩余金额:<input type="text" id="score" value=0 />
    剩余免费次数:<input type="text" id="freeCount" value=0 />

    <br>
    <input type="button" onclick="login()" value="登录" />
    <input type="button" onclick="heartbeat()" value="心跳" />
    <br>
    <input type="button" onclick="test()" value="进入游戏28" />
    <input type="button" onclick="up()" value="上庄" />
    <br>
    <input type="button" onclick="test1()" value="进入老虎机" />
    <input type="button" onclick="lottery()" value="摇奖" />
    <input type="text" id="lotteryCount" value=1000 size="3"/>
    <input type="text" id="lotterybet" value=0 size="3"/>
    <textarea id="lotteryResult" rows="3" cols="40">
      摇奖结果
    </textarea>
    <br>
    奖池:<input type="text" id="score_pool" value=0 />

    <input type="text" id="freeCount5" value=0 size="1"/>
    <input type="text" id="freeCount8" value=0 size="1"/>
    <input type="text" id="freeCount15" value=0 size="1"/>
    <br>
    摇奖次数:<input type="text" id="lotteryTotal" value=0 size="3"/>
    盈利:<input type="text" id="Total" value=0 size="3"/>
    <br>
    <input type="button" onclick="test2()" value="进入捕鱼" />
    <input type="button" onclick="test3()" value="进入捕鱼比赛" />
    <input type="button" onclick="loginroom()" value="进入房间" />
    <input type="button" onclick="hitfish()" value="击中鱼" />
    <input type="button" onclick="shoot()" value="发射" />
    <input type="button" onclick="apply()" value="报名" />
    <input type="button" onclick="getfishList()" value="获取鱼场景" />
    <input type="button" onclick="logoutroom()" value="离开房间" />
    <input type="button" onclick="exchange()" value="兑换电话卡" />
    <input type="button" onclick="sendCoin()" value="赠送金币" />
    <input type="button" onclick="rechargeZhifuBao()" value="赠送金币" />

    <br>
        
    <br>
    <input type="button" onclick="checkNickName()" value="检测ID" />
    <input type="button" onclick="sendbindPhoneNo()" value="获取验证码" />
    <input type="button" onclick="bindPhone()" value="绑定" />
    <input type="button" onclick="updateNickName()" value="修改昵称" />
    <input type="button" onclick="updatePassword()" value="修改密码" />
    <input type="button" onclick="bindZhifubao()" value="绑定支付宝" />
    <input type="button" onclick="addBank()" value="添加银行卡" />
    <input type="button" onclick="editBank()" value="修改银行卡" />
    <input type="button" onclick="delBank()" value="删除银行卡" />
    <input type="button" onclick="getBank()" value="获取银行卡" />
    <input type="button" onclick="changeOfficial()" value="转正" />
    <input type="button" onclick="sendMsgToUser()" value="发送信息给客服" />
    <input type="button" onclick="getMsgToUser()" value="获取未收到私聊" />
    <input type="button" onclick="updateCharLog()" value="更新未收到私聊" />
    <input type="button" onclick="scoreOut()" value="兑换" />
    
    <input type="text" id="checkNo" size="3"/>
    <input type="button" onclick="getPrize()" value="领取奖品" />
    <input type="button" onclick="getDayPrize()" value="领取每日奖品" />
    <input type="button" onclick="getServerRank()" value="获得游戏排行榜" />
    <input type="button" onclick="sendMsg()" value="喇叭" />
    <input type="button" onclick="getDownTime()" value="获取下注时间" />
    <input type="button" onclick="up()" value="上庄" />
    <input type="button" onclick="down()" value="下庄" />
    <input type="button" onclick="downCoin()" value="下注" />
    <input type="button" onclick="getx()" value="getx" />
    <input type="button" onclick="setx()" value="setx" />
    筹码<input type="text" id="chips" value=1 size="3"/>
    下注门<input type="text" id="selectId" value=1 size="3"/>
    <br>
    <input type="button" onclick="goredbaggame()" value="进入红包游戏" />
    <input type="button" onclick="loginroom()" value="进入游戏房间" />
    <input type="button" onclick="sendbag()" value="发包" />
    <input type="button" onclick="lootbag()" value="抢包" />
    <input type="button" onclick="checkbag()" value="查包" />
    <input type="button" onclick="getHistory()" value="拿历史记录" />
    抢包id<input type="text" id="lootbagid" value=1 size="3"/>
    <br>

    <input type="button" onclick="go8da2()" value="进入八搭二游戏" />
    <input type="button" onclick="loginroom()" value="进入游戏房间" />
    <input type="button" onclick="vs()" value="对决" />
    <input type="button" onclick="gocow()" value="进入牛牛游戏" />
    <input type="button" onclick="loginroom()" value="进入游戏房间" />
    <br>

    <input type="button" onclick="goqiangcow()" value="进入抢庄牛牛" />
    <input type="button" onclick="loginroom()" value="进入游戏房间" />
    <input type="button" onclick="ready()" value="准备" />
    <input type="button" onclick="call(0)" value="不抢" />
    <input type="button" onclick="call(1)" value="1倍" />
    <input type="button" onclick="call(2)" value="2倍" />
    <input type="button" onclick="call(3)" value="3倍" />
    <input type="button" onclick="call(4)" value="4倍" />
    <input type="button" onclick="recall(1)" value="闲5倍" />
    <input type="button" onclick="recall(2)" value="闲10倍" />
    <input type="button" onclick="recall(3)" value="闲20倍" />
    <input type="button" onclick="recall(4)" value="闲30倍" />
    <input type="button" onclick="show()" value="凑牛" />
    <input type="button" onclick="getTableList()" value="获取玩家列表" />
    <br>



  </body>
</html> 